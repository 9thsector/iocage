


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create a Debian squeeze jail (gnu kFreeBSD) &mdash; iocage 1.5.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="iocage 1.5.0 documentation" href="index.html"/>
        <link rel="prev" title="Real world example with VNET, NAT, PF, IPFW and port forwarding" href="real-world.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> iocage</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="pre-flight-checklist.html">Pre-flight checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="best-practices.html">Best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-uuids.html">Using UUIDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="basejails.html">Basejails</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto-boot.html">How to turn on auto boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="automatic-package-installation.html">Automatic package installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configure-interfaces.html">Configuring Network Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-ip.html">Non VNET jails (shared IP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="help-no-internet.html">Help! My jail has no Internet connectivity!</a></li>
<li class="toctree-l1"><a class="reference internal" href="jail-package.html">Create a jail package!</a></li>
<li class="toctree-l1"><a class="reference internal" href="clones.html">Dealing with clones</a></li>
<li class="toctree-l1"><a class="reference internal" href="destroy.html">Destroying jails</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">How to use templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource-limit.html">Resource limiting</a></li>
<li class="toctree-l1"><a class="reference internal" href="snapshots.html">Snapshot management</a></li>
<li class="toctree-l1"><a class="reference internal" href="thin-thick.html">Thin provision or thick provision?</a></li>
<li class="toctree-l1"><a class="reference internal" href="updating.html">Updating jails</a></li>
<li class="toctree-l1"><a class="reference internal" href="real-world.html">Real world example with VNET, NAT, PF, IPFW and port forwarding</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Create a Debian squeeze jail (gnu kFreeBSD)</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">iocage</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Create a Debian squeeze jail (gnu kFreeBSD)</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/debian.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="create-a-debian-squeeze-jail-gnu-kfreebsd">
<h1>Create a Debian squeeze jail (gnu kFreeBSD)<a class="headerlink" href="#create-a-debian-squeeze-jail-gnu-kfreebsd" title="Permalink to this headline">Â¶</a></h1>
<p><strong>In this howto we will set up a Debian (gnu/kFreeBSD) jail. gnu/kFreeBSD is a
Debian userland tailored for the FreeBSD kernel.</strong></p>
<p>Don&#8217;t forget to replace UUID with your jail&#8217;s full UUID!</p>
<p><strong>Create an empty jail with linux specifics:</strong></p>
<p><tt class="docutils literal"><span class="pre">iocage</span> <span class="pre">create</span> <span class="pre">-e</span> <span class="pre">tag=debian</span> <span class="pre">exec_start=&quot;/etc/init.d/rc</span> <span class="pre">3&quot;</span>
<span class="pre">exec_stop=&quot;/etc/init.d/rc</span> <span class="pre">0&quot;</span></tt></p>
<p><strong>Install debootstrap on the host:</strong></p>
<p><tt class="docutils literal"><span class="pre">pkg</span> <span class="pre">install</span> <span class="pre">debootstrap</span></tt></p>
<p><strong>Grab the mountpoint for our empty jail, append /root/ to it and run
debootstrap:</strong></p>
<p><tt class="docutils literal"><span class="pre">iocage</span> <span class="pre">get</span> <span class="pre">mountpoint</span> <span class="pre">UUID</span> <span class="pre">|</span> <span class="pre">TAG</span></tt></p>
<p><tt class="docutils literal"><span class="pre">debootstrap</span> <span class="pre">squeeze</span> <span class="pre">/iocage/jails/UUID/root/</span></tt> (you can replace squeeze with wheezy if that is what you need)</p>
<p><strong>Edit the jail&#8217;s fstab and add these lines:</strong></p>
<p><tt class="docutils literal"><span class="pre">/iocage/jails/UUID/root/fstab</span></tt></p>
<blockquote>
<div><div class="highlight-python"><pre>linsys   /iocage/jails/UUID/root/sys         linsysfs  rw          0 0
linproc  /iocage/jails/UUID/root/proc        linprocfs rw          0 0
tmpfs    /iocage/jails/UUID/root/lib/init/rw tmpfs     rw,mode=777 0 0</pre>
</div>
</div></blockquote>
<p><strong>Start the jail and attach to it:</strong></p>
<p><tt class="docutils literal"><span class="pre">iocage</span> <span class="pre">start</span> <span class="pre">UUID</span> <span class="pre">|</span> <span class="pre">TAG</span></tt></p>
<p><tt class="docutils literal"><span class="pre">iocage</span> <span class="pre">console</span> <span class="pre">UUID</span> <span class="pre">|</span> <span class="pre">TAG</span></tt></p>
<p>What you gain is a 64bit Debian Linux userland. Please note this is not
recommended for production use. The intention was to show that iocage will let
you do almost anything you want with your jails.</p>
<p>If you wish to install a Linux only Debian jail you can follow this tutorial:
<a class="reference external" href="http://devil-detail.blogspot.co.nz/2013/08/debian-linux-freebsd-jail-zfs.html/">debian-linux-freebsd-jail-zfs</a></p>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="real-world.html" class="btn btn-neutral" title="Real world example with VNET, NAT, PF, IPFW and port forwarding"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Peter Toth.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'',
            VERSION:'1.5.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>